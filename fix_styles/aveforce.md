# fix aveforce command

# 構文
```
fix ID group-ID aveforce fx fy fz keyword value ...
```
- ID、group-ID は fix コマンドで説明されています。
- aveforce = この fix コマンドのスタイル名
- fx, fy, fz = 力の成分値（力の単位）

fx, fy, fz のいずれかは変数にすることができます（下記参照）

- ゼロ個以上のキーワード/値のペアを引数に追加できます
- キーワード = region

region value = region-ID  
region-ID = 力を加えるために原子が含まれている必要がある領域の ID

# 例
```
fix pressdown topwall aveforce 0.0 -1.0 0.0
fix 2 bottomwall aveforce NULL -1.0 0.0 region top
fix 2 bottomwall aveforce NULL -1.0 v_oscillate region top
```

# 説明
原子のグループに外部の追加の力を加えることで、すべての原子が同じ力を受けるようにします。これは、壁や境界の原子に力を加えて、壁の構造が時間とともに変化しないようにする場合に便利です。

既存の力は、原子のグループに対して各成分ごとに平均化されます。その後、各原子に対する実際の力は、平均値にこのコマンドで指定された成分が加えられた値に設定されます。これにより、グループ内のすべての原子が同じ力を受けることになります。

fx、fy、fz のいずれかの値は NULL として指定でき、これはその次元の力が変更されないことを意味します。注意すべきは、これは 0.0 の値を指定することとは異なるという点です。0.0 の値を指定すると、すべての力が同じ平均値に設定され、追加の力が加えられることはありません。

力成分を定義する3つの量のいずれかは、equal-style [variable]()として指定することができます。すなわち、fx、fy、fzです。もし値が変数であれば、それは v_name として指定する必要があります。ここで、name は変数名です。この場合、変数は各タイムステップで評価され、その値が平均力の計算に使用されます。

Equal-style 変数は、さまざまな数学的関数を用いた式を指定でき、シミュレーションボックスのパラメータやタイムステップ、経過時間などの [thermo_style]() コマンドのキーワードも含むことができます。したがって、時間依存の平均力を指定することが容易です。

region キーワードが使用される場合、原子は指定された幾何学的[region]()内にも存在している必要があり、その場合にのみ力が追加されます。

# Restart, fix_modify, output, run start/stop, minimize info
この修正に関する情報は[binary restart file]には書き込まれません。この修正に対する [fix_modify]() オプションは適用されません。

この修正は、原子群に対する力の総和の3成分ベクトルを計算し、さまざまな[output command]()でアクセスできるようにします。これは、個々の原子に対する力がこの修正で変更される前の、原子群に対する総力です。この修正によって計算されたベクトル値は「広がりのある（extensive）」量です。

この修正のパラメータは、[run]() コマンドの start/stop キーワードと一緒に使用することはできません。

この修正による力は、minimize コマンドによって呼び出されるエネルギー最小化の間に適用されます。時間依存性を持つ変数を使用して力成分を指定しないでください。なぜなら、最小化中、最小化器は反復回数としてタイムステップを増加させるからです。

# 制限事項
none

# 関連コマンド
[fix setforce](), [fix addforce]()

# デフォルト
none