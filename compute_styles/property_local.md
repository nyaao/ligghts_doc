# compute property/local command

## 構文
```
compute ID group-ID property/local general_keyword general_values input1 input2 ...
```
- ID、group-IDはcomputeコマンドに記載されています
- property/local = このcomputeコマンドのスタイル名
- general_keywords general_valuesはcomputeコマンドに記載されています
- input = 1つ以上の属性

可能な属性 = natom1 natom2 ntype1 ntype2
patom1 patom2 ptype1 ptype2
batom1 batom2 btype

natom1, natom2 = 各ペアの2つの原子のID（隣接カットオフ内）
ntype1, ntype2 = 各ペアの2つの原子のタイプ（隣接カットオフ内）
patom1, patom2 = 各ペアの2つの原子のID（力カットオフ内）
ptype1, ptype2 = 各ペアの2つの原子のタイプ（力カットオフ内）
batom1, batom2 = 各結合の2つの原子のID
btype = 各結合の結合タイプ

## 例
```
compute 1 all property/local btype batom1 batom2
compute 1 all property/local atype aatom2
```

## 説明
指定された属性をローカルデータとして保存する計算を定義し、それを他の出力コマンドでアクセスできるようにします。入力属性が結合情報を参照している場合、生成されるデータの数は、システム内の結合の数と同じになります。同様に、ペアに対しても同じです。

複数の入力属性が指定されている場合、それらはすべて同じ量の情報を生成しなければならないため、結果として生成されるローカル配列は各列に対して同じ行数を持ちます。これは、結合属性のみを一緒に指定できることを意味します。

入力がペア属性である場合、ローカルデータはペアワイズ隣接リストをループして生成されます。個々のペアワイズ相互作用に関する情報は、ペアの両方の原子が指定された計算グループに含まれている場合のみ含まれます。natom1およびnatom2に関しては、隣接リスト内のすべての原子ペアが考慮されます（out to the neighbor cutoff  = force cutoff + [neighbor skin]()）。patom1およびpatom2に関しては、そのペアが含まれるためには、原子間の距離が力カットオフ距離より小さくなければならないことが、[pair_style]()および[pair_coeff]()コマンドで定義されています。

入力が結合などの属性である場合、ローカルデータはプロセッサ上で所有されているすべての原子をループして、結合などの情報を抽出することによって生成されます。結合については、個々の結合に関する情報は、その結合内の両方の原子が指定された計算グループに含まれている場合のみ含まれます。同様に、角度、ジヘドラル、その他の情報も同様です。

原子がプロセッサ間で移動する際、ローカルベクターや配列内のエントリの順序はタイムステップごとに一貫性がなくなります。保証される唯一の一貫性は、特定のタイムステップでの順序が、他の計算コマンドによって生成されたローカルベクターや配列で同じであることです。例えば、[compute bond/local]()コマンドの出力は、このコマンドの結合原子インデックスと組み合わせて、[dump local]()コマンドによって一貫した方法で出力できます。

natom1とnatom2、またはpatom1とpatom2属性は、[pair_style]()コマンドで計算された各ペアワイズ相互作用における2つの原子のIDを指します。ntype1とntype2、またはptype1とptype2属性は、各ペアワイズ相互作用における2つの原子のタイプを指します。

[!WARNING]ペアの場合、分子トポロジー内で2つの原子I、Jが1-2、1-3、1-4相互作用に関与している場合、それらのペアワイズ相互作用がオフにされることがあり、そのため隣接リストに表示されず、このコマンドによって作成されたローカルデータには含まれません。具体的には、0.0の重み付け係数を持つI、Jペアに対してこれが当てはまる可能性があります。非ゼロの重み付け係数を持つペアは含まれます。1-2、1-3、1-4ペアワイズ相互作用の重み付け係数は、special_bondsコマンドで設定されます。

batom1およびbatom2属性は、各[bond]()における2つの原子のIDを指します。btype属性は、結合のタイプを指し、1からNbtypes（結合タイプの数）までの値を取ります。結合タイプの数は、[read_data]()コマンドで読み込まれるデータファイルで定義されています。

## 出力情報
この計算は、入力値の数に応じてローカルベクトルまたはローカル配列を計算します。ベクトルの長さまたは配列の行数は、結合の数です。1つの入力が指定されている場合、ローカルベクトルが生成されます。2つ以上の入力が指定されている場合、ローカル配列が生成され、列数は入力の数に等しくなります。このベクトルまたは配列は、計算からローカル値を入力として使用する任意のコマンドによってアクセスできます。LIGGGHTS(R)-PUBLICの出力オプションの概要については、このセクションを参照してください。

ベクトルまたは配列の値は、指定された属性に対応する整数値になります。

## 制限事項
none

## 関連コマンド
[dump local](), [compute reduce]()

## デフォルト
none