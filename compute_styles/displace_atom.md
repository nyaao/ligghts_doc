# compute displace/atom command

## 構文
```
compute ID group-ID displace/atom general_keyword general_values
```

- ID、group-IDはcomputeコマンドでドキュメント化されています。
- displace/atom = この計算コマンドのスタイル名
- general_keywords general_valuesは[compute]()でドキュメント化されています。

## 例
```
compute 1 all displace/atom
```

## 説明
グループ内の各原子について、その元の座標からの現在の変位を計算する計算を定義します。この計算には、原子が周期境界を越える影響もすべて含まれます。

この計算により、各原子について4つの量からなるベクトルが計算されます。ベクトルの最初の3つの成分は、dx、dy、dzの変位です。4番目の成分は、総変位（つまり、sqrt(dxdx + dydy + dz*dz)）です。

原子の変位は、computeコマンドが実行された時点での元の位置からの変位です。指定された計算グループに属さない原子の変位の値は0.0になります。

[!WARNING]初期座標は「アンラップされた」形式で保存されており、各原子に関連付けられたイメージフラグを使用しています。 「アンラップされた」座標については、[dump custom]()コマンドで説明があります。 イメージフラグとその設定方法については、[read_data]()コマンドのAtomsセクションで説明があります。 この計算を実行する前に、[set image]()コマンドを使用してイメージフラグ（例：0に設定）をリセットすることができます。

[!WARNING]原子が剛体の一部である場合（[fix rigid]()コマンドを参照）、その周期的イメージフラグが変更され、計算された変位が実際の変位を反映しないことがあります。詳細は[fix rigid]()コマンドを参照してください。したがって、剛体が周期的境界を越える際の変位を計算するには、体内の原子の座標を含む[dump file]()を後処理する必要があります。

[!WARNING]この計算で計算された量が[restart file]()から実行する際に連続的であることを望む場合、元の実行と同じIDをこの計算に使用するべきです。これは、作成されたfixも同じIDを持つことになり、再開ファイルからの原子座標で正しく初期化されるためです。

## 出力情報
この計算は、4列の値を持つ原子ごとの配列を計算します。この配列は、計算からの原子ごとの値を入力として使用する任意のコマンドで、インデックス1〜4でアクセスできます。LIGGGHTS(R)-PUBLICの出力オプションの概要については、セクション_howto 15を参照してください。

原子ごとの配列の値は、距離[units]()で表されます。

## 制限事項
none

## 関連コマンド
[compute msd](), [dump custom](), [fix store/state]()

## デフォルト
none