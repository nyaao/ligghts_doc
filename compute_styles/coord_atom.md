# compute coord/atom command

## 構文
```
compute ID group-ID coord/atom general_keyword general_values cutoff keyword value
```
- ID、group-ID は compute コマンドで文書化されています。
- coord/atom はこの計算コマンドのスタイル名です。
- general_keywords general_values は compute で文書化されています。
- cutoff は、コーディネーション近接原子をカウントする距離（距離単位）です。
- 引数にはゼロ個以上のキーワード/値ペアを追加できます。
- keyword は mix または type1, type2, ... です。

mix の値は yes または no です。  
no = すべての近接原子をカウントします。  
yes = 異なる原子タイプを持つ近接原子のみをカウントします。  
typeN は N 番目のコーディネーションカウントの原子タイプです（以下のアスタリスク形式を参照）。  

## 例
```
compute 1 all coord/atom 0.003 mix yes
compute 1 all coord/atom 2.0
compute 1 all coord/atom 6.0 1 2
compute 1 all coord/atom 6.0 2*4 5*8 *
```

## 説明
指定されたグループ内の各原子について、1つ以上のコーディネーション数を計算する計算を定義します。

コーディネーション数は、中央の原子から指定されたカットオフ距離以内にある、指定された原子タイプの近接原子の数として定義されます。グループ内にない原子も、グループ内の原子のコーディネーション数に含まれます。

この計算は、コーディネーション数を計算するための3つの異なる方法の1つです。以下の表は、異なるオプションの概要を示しています：

|style|	contact counted condition|	formula|
|---|---|---|
|compute contact/atom|	particles touch each other|	r < r_i + r_j|
|compute contact/atom/gran|	particles interact with each other|	f_ij > 0|
|compute coord/atom|	particles are in the vicinity of each other|	r < cutoff|

typeNキーワードは、各コーディネーション数にどの原子タイプが寄与するかを指定するために使用されます。リストされた各typeNキーワードに対して、1つのコーディネーション数が計算されます。typeNキーワードがリストされていない場合、すべてのタイプの原子を含む単一のコーディネーション数が計算されます（「*」フォーマットと同じ、下記参照）。

typeNキーワードは2つの方法で指定できます。1つは、上記の2番目の例のように明示的な数値を使用する方法です。もう1つは、ワイルドカードアスタリスク（）を使用して原子タイプの範囲を指定する方法です。この形式は「」または「n」または「n」または「m*n」となります。Nが原子タイプの数の場合、数値なしのアスタリスクは1からNまでのすべてのタイプを意味します。先頭にアスタリスクがある場合、1からnまでのすべてのタイプを意味します。末尾にアスタリスクがある場合、nからNまでのすべてのタイプを意味します。中央にアスタリスクがある場合、mからnまでのすべてのタイプを意味します。

指定された計算グループに含まれない原子については、すべてのコーディネーション数の値は0.0となります。

この量を計算するために必要な近傍リストは、計算が実行されるたびに構築されます（すなわち、原子のスナップショットがダンプされるたびに）。そのため、この量を過度に頻繁に計算／ダンプすると非効率になる場合があります。

キーワード「mix」は、すべての近傍をカウントするか、異なる原子タイプを持つ近傍のみをカウントするかを制御します。後者は、異なる種の混合を定量化するのに役立つことがあります。

[!WARNING]結合されたシステムがある場合、special_bonds コマンドの設定により、同じ結合内の原子間のペアワイズ相互作用を削除することができます。これは special_bonds コマンドのデフォルト設定であり、そのため、これらのペアワイズ相互作用は近傍リストに現れません。この修正が近傍リストを使用するため、これらのペアはコーディネーション数に含まれません。この問題を回避する方法の一つは、ダンプファイルを作成し、rerun コマンドを使用してダンプファイル内のスナップショットに対するコーディネーションを計算することです。rerun スクリプトでは、すべてのペアを近傍リストに含める special_bonds コマンドを使用できます。

## 出力情報
type1 キーワードが1つ指定された場合（または指定されていない場合）、または mix キーワードが使用された場合、この計算は原子ごとのベクトルを計算します。複数の typeN キーワードが指定された場合、この計算は原子ごとの配列を計算し、N列のデータが得られます。これらの値は、計算からの原子ごとの値を入力として使用する任意のコマンドでアクセスできます。LIGGGHTS(R)-PUBLICの出力オプションの概要については、セクション15を参照してください。

原子ごとのベクトルまたは配列の値は、上記のように、0.0以上の数値となります。

## 制限事項
none

## 関連コマンド
[compute cluster/atom]()

## デフォルト
mix = no