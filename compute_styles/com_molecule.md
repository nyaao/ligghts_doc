# compute com/molecule command

## 構文
```
compute ID group-ID com/molecule general_keyword general_values
```

- ID、group-ID は [compute]() コマンドに記載されています。
- com/molecule はこの計算コマンドのスタイル名です。
- 一般的なキーワードとその値は [compute]() に記載されています。

## 例
```
compute 1 fluid com/molecule
```

## 説明
この計算は、個々の分子の質量中心を計算します。計算には、原子が周期的境界を越える影響がすべて含まれます。

特定の分子の質量中心のx、y、z座標は、その原子のいずれかが指定されたグループに属している場合にのみ計算されます。通常、分子内のすべての原子がグループに属しているべきですが、これは必須ではありません。もしそうでない場合、LIGGGHTS(R)-PUBLICは警告を出します。質量中心の計算に寄与するのは、グループ内の原子だけです。

この計算によって生成される分子ごとのデータの順序は、分子ごとのデータを生成する他の計算コマンドによって生成される順序と一致します。概念的には、指定されたグループに属する原子を1つ以上持つ分子について、分子IDは昇順になります。

[!WARNING]原子の座標は、その原子に関連付けられたイメージフラグを使用して、分子の質量中心に「アンラップド」形式で寄与します。アンラップド座標については、[dump custom]() コマンドの説明を参照してください。[read_data]() コマンドの「Atoms」セクションでは、イメージフラグとそれが各原子にどのように設定されるかについて説明しています。この計算を実行する前に、[set image]() コマンドを使用してイメージフラグ（例：0）をリセットすることができます。

[!WARNING]原子が剛体の一部である場合（[fix rigid]() コマンドを参照）、その周期的なイメージフラグは変更され、その質量中心への寄与が真の寄与を反映しない場合があります。詳細については、[fix rigid]() コマンドを参照してください。したがって、剛体が周期的境界を越える際の質量中心を計算するためには、剛体内の原子の座標を含む[dump file]()を後処理する必要があります。

## 出力情報
この計算は、行数がNmolecules（分子の数）、列数が3のグローバル配列を計算します。この配列は、各分子のx、y、z座標の質量中心を表します。これらの値は、計算からグローバル配列の値を入力として使用するコマンドによってアクセスできます。LIGGGHTS(R)-PUBLICの出力オプションの概要については、セクション15を参照してください。

配列の値は「集中的」です。配列の値は距離[units]()で表されます。

## 制限事項
none

## 関連コマンド
[compute com]()

## デフォルト
none
