# create_box command

## 構文
```
create_box N region-ID
```
N = このシミュレーションで使用する原子タイプの数
region-ID = シミュレーションドメインとして使用する領域のID（オプション）
## 例
```
create_box 2 mybox
create_box 1
```

## 説明
このコマンドは、指定された領域に基づいてシミュレーションボックスを作成します。まず、[region]() コマンドを使用して幾何学的ドメインを定義し、その region-ID を引数として指定する必要があります。あるいは、最初に simulation_domain コマンドを使用しても構いません。この場合、region-ID が指定されていない場合、simulation_domain によって定義されたボックスが自動的にシミュレーションドメインとして使用されます。

引数 N は、シミュレーションで使用する原子タイプの数です。

領域が prism スタイルでない場合、LIGGGHTS(R)-PUBLIC は領域（ブロック、球体など）を軸方向に整列した直交バウンディングボックスで囲み、そのボックスがシミュレーションドメインとなります。

領域が prism スタイルの場合、LIGGGHTS(R)-PUBLIC は三斜対称を持つ平行六面体型の非直交シミュレーションドメインを作成します。[region prism]() コマンドで定義されたように、この平行六面体は (xlo, ylo, zlo) を原点とし、3つの辺ベクトル（A、B、C）によって定義されます。これらの辺ベクトルは次のように計算されます：
A = (xhi - xlo, 0, 0)
B = (xy, yhi - ylo, 0)
C = (xz, yz, zhi - zlo)
xy, xz, yz は0.0または正または負の値を取ることができ、「傾斜因子」と呼ばれ、元の直交ボックスの面に変位を適用して平行六面体に変換するためのものです。

create_box コマンドで使用されるプリズム領域には、ボックスの傾斜因子（xy、xz、yz）が、平行ボックスの長さの半分以上ボックスを歪めないように設定する必要があります。例えば、xlo = 2 で xhi = 12 の場合、x軸のボックス長さは10ですので、xy傾斜因子は-5から5の範囲である必要があります。同様に、xzとyzもそれぞれ (xhi - xlo)/2 と (yhi - ylo)/2 の範囲内でなければなりません。これは制限ではなく、例えば最大の傾斜因子が5であれば、tilt = ..., -15, -5, 5, 15, 25, ... のような設定でも幾何学的に同等であるためです。

LIGGGHTS(R)-PUBLIC によって定義された三斜箱（triclinic box）の幾何学的な記述と、これらのパラメータを他の一般的な三斜対称表現に変換する方法については、ドキュメントのセクション 12（Section_howto）をご参照ください。

プリズム領域を使用する場合、シミュレーションドメインは、非ゼロの傾斜因子を持つ任意の次元で周期的でなければなりません。つまり、xy傾斜因子が非ゼロであれば、xおよびyの次元は周期的でなければならず、xzが非ゼロであればxおよびzも周期的で、yzが非ゼロであればyおよびzも周期的でなければなりません。また、シミュレーションがボックスを傾ける場合（例えば [fix deform]() コマンドを使用する場合）、初期の傾斜因子が0.0であっても、シミュレーションボックスは三斜対称（triclinic）として定義する必要があります。

[!WARNING]システムが非周期的（1次元）である場合、最終的に作成する原子の範囲（例えば、[create_atoms]() コマンドで作成する）に比べて、lo/hiボックスの次元（[region]() コマンドで定義された）を極端に小さくまたは大きく設定しないようにしてください。例えば、原子が0から50の範囲に広がる場合、ボックスの境界を-10000と10000に設定しないようにしてください。これは、LIGGGHTS(R)-PUBLICが指定されたボックスサイズを使って、プロセッサの3次元グリッドを配置するためです。大きすぎる（ほとんど空の）ボックスは、「固定」境界条件（[boundary]() コマンド参照）を使用している場合、パフォーマンスにとって最適でない場合があります。さらに、「シュリンクラップ」境界条件（[boundary]() コマンド参照）を使用している場合、巨大でほとんど空のボックスは、LIGGGHTS(R)-PUBLICがボックスを原子に合わせてシュリンクラップする最初のタイミングで、並列シミュレーションが原子を失う原因となる可能性があります。

## 制限事項
このコマンドを使用するには、[atom_style]() と [region]() または simulation_domain のいずれかが事前に定義されている必要があります。

## 関連コマンド
[create_atoms](), [region](), simulation_domain

## デフォルト
none
