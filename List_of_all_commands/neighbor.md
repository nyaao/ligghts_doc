# neighbor command, neighbor_skin command

## 構文
```
neighbor skin style
neighbor_skin skin
```

skin = 力のカットオフを超えた追加の距離（距離単位）  
style = bin または nsq または multi

## 例
```
neighbor 0.3 bin
neighbor 2.0 nsq
neighbor_skin 0.3
```

## 説明
これらのコマンドは、ペアワイズ近接リストの構築に影響を与えるパラメータを設定します。近接カットオフ距離（力のカットオフとスキン距離の合計）以内のすべての原子ペアはリストに格納されます。通常、スキン距離が大きいほど、近接リストを構築する頻度は少なくなりますが、各タイムステップでより多くのペアをチェックして力の相互作用を確認する必要があります。スキン距離のデフォルト値は、シミュレーションの単位の選択に依存します。デフォルト値は以下を参照してください。「neighbor_skin」コマンドは、「neighbor」のラッパーであり、入力としてスキン値のみを受け取ります。また、styleはbinに設定されます。

スキン距離は、[neigh_modify]()コマンドのcheckオプションがyesに設定されている場合、原子が新しいプロセッサに移動する頻度を決定するためにも使用されます。原子は、近接リストが再構築される同じタイムステップで新しいプロセッサに移動（通信）されます。

styleの値は、リストを構築するために使用されるアルゴリズムを選択します。binスタイルは、bin操作を用いてリストを作成します。この操作は、N/P（Nは総原子数、Pはプロセッサ数）に対して線形にスケールするため、ほとんどの場合、nsqスタイルよりも速くなります。nsqスタイルは(N/P)^2に比例してスケールします。非周期的ボックス内で未解決の小さな分子の場合、nsqの方が速いこともあります。どちらのスタイルも同じ結果を得るべきです。

multiスタイルは、カットオフ距離の範囲が広いシステムに有用な修正されたbinアルゴリズムです。例えば、異なるサイズの粒子がある場合です。binスタイルでは、binサイズは任意の原子タイプペア間の最大カットオフ距離の1/2に設定され、すべての原子タイプに対して単一のbinセットが定義されます。もし1つのペアのタイプが非常に長いカットオフを持っており、他のタイプペアが短いカットオフを持っている場合、これが非効率的になることがあります。multiスタイルでは、binサイズは最短カットオフ距離の1/2に設定され、異なる原子タイプごとに複数のbinセットが定義されます。これには追加の設定オーバーヘッドが発生しますが、短いカットオフの場合、検索自体ははるかに速くなる可能性があります。この種のシミュレーションに役立つ通信オプションについては、[communicate multi]()コマンドを参照してください。

[neigh_modify]()コマンドには、隣接リストの構築頻度やリストに格納されるペアを制御する追加のオプションがあります。

実行が終了すると、ペアワイズリストに格納された隣接粒子の数と、隣接リストが構築された回数が画面とログファイルに出力されます。詳細についてはこのセクションを参照してください。

## 制限事項
none

## 関連コマンド
[neigh_modify](), [units](), [communicate]()

## デフォルト
lj単位の場合、bin = 0.3、skin = 0.3シグマ  
realまたはmetal単位の場合、bin = 2.0、skin = 2.0オングストローム  
si単位の場合、bin = 0.001、skin = 0.001メートル = 1.0ミリメートル  
cgs単位の場合、bin = 0.1、skin = 0.1センチメートル = 1.0ミリメートル  