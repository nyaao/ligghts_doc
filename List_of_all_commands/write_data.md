# write_data command

## 構文
```
write_data file keyword value ...
```
- file = 出力するデータファイルの名前
- 0個以上のキーワード/値のペアを追加できます
- キーワード = pair
pairの値 = ii または ij  
ii = 各原子タイプごとにペア係数情報を1行で出力  
ij = 各IJ原子タイプペアごとにペア係数情報を1行で出力  

## 例
```
write_data data.*
```

## 説明
現在のシミュレーションの状態をテキスト形式でデータファイルに書き出します。データファイルは[read_data]()コマンドで読み込まれ、シミュレーションの開始に使用できます。[read_data]()コマンドでは、データファイルのフォーマットも説明されています。

ダンプファイルと同様に、データファイル名に「\*」ワイルドカードを含めることができます。「\*」は現在のタイムステップ値に置き換えられます。

[!WARNING]write_dataコマンドは、以下の2点でまだ完全には実装されていません。まず、ほとんどのペアスタイルではペア係数情報がデータファイルに書き込まれません。このため、データファイルを読み込む入力スクリプトで、[pair_coeff]()コマンドを使用してその情報を指定する必要があります。次に、楕円体、線、三角形など、非球状粒子に関する補助的な「ボーナス」情報を格納する一部の原子スタイルでは、ボーナス情報がデータファイルに書き込まれません。これらの機能は後に[write_data]()コマンドに追加される予定です。

データファイルはテキスト形式であるため、このコマンドで書き出したデータファイルを使用してシミュレーションを再開すると、新しい実行の初期状態は、ファイルが書き出された時点での古い実行の最終状態とはわずかに異なります。これは、LIGGGHTS(R)-PUBLICが内部的にバイナリ形式で表現していたためです。そのため、データファイルを読み込んで新しいシミュレーションを開始すると、元の入力スクリプトで継続されたシミュレーションと通常は異なった結果になることがあります。

より正確な再開を行いたい場合は、バイナリファイルを使用する方法について、[restart]()、[write_restart]()、[read_restart]()コマンドを参照してください。また、シミュレーションが終了した後に、バイナリ再起動ファイルをテキストデータファイルに変換することもできます。そのためには、[-r command-line switch]()を使用します。

データファイルにはシミュレーションに関する情報が限られて保存されます。例えば、原子の[groups]()やフィックスに関する情報は保存されません。[Binary restart files]()には、より多くの情報が保存されます。

切断された結合（例えば、結合切断ポテンシャルによって）はデータファイルには書き出されません。そのため、データファイルを読み込む際には、これらの結合は存在しないことになります。

pairキーワードは、ペア係数情報がデータファイルにどの形式で書き込まれるかを指定します。値が「ii」と指定された場合、各原子タイプについて1行が書き込まれ、I=J相互作用の係数が指定されます。これにより、I≠Jの交差相互作用はデータファイルに指定されず、ペアスタイルは個別の[pair_style]()ドキュメントページに記載されている混合ルールを適用します。この動作は、データファイルを読み込んだ後に、必要なI,Jペアに対して[pair_coeff]()コマンドを追加で指定することで、入力スクリプト内でオーバーライドできます。

値が「ij」と指定された場合、I<=JとなるすべてのI,Jペアに対して1行の係数が書き込まれます。これらの係数は、入力スクリプトでその時点までに行われた特定の設定を含みます。データファイルにI≠Jの係数が含まれることで、ペアスタイルのデフォルトの混合ルールが実質的に無効になります。同様に、データファイルに記載された係数値は、データファイルを読み込んだ後に、入力スクリプト内で[pair_coeff]()コマンドを追加で指定することによって上書きできます。

## 制限事項
このコマンドは、データファイルが書き込まれる前に原子を移動させるためのプロセッサ間通信を必要とします。つまり、このコマンドを使用する前にシステムがシミュレーションを実行できる状態である必要があります（力場の設定、原子の質量の初期化など）。

## 関連コマンド
[read_data](), [write_restart]()

## デフォルト
デフォルト オプションのデフォルトは、pair = ii です。
