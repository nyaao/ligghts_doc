# dump command
# [dump image]() command
# [dump movie]() command

## 構文
```
dump ID group-ID style N file args
```

- ID = ダンプのためにユーザーが割り当てた名前
- group-ID = ダンプする原子のグループID
- style = atom、atom/vtk、xyz、image、local、custom、mesh/stl、mesh/vtk、mesh/vtm、decomposition/vtk のいずれか
- N = このタイムステップごとにダンプを行う
- file = ダンプ情報を書き込むファイルの名前
- args = 特定のスタイルに対する引数のリスト

atom args = なし  
atom/vtk args = なし  
xyz args = なし  

image args = dump imageに関するドキュメントページで説明されています

mesh/stl args = 'local'、'ghost'、'all'、'region'、または任意の fix mesh/surface のID
region values = しきい値のための領域ID
mesh/vtk args = 0個以上のキーワード/値のペアの後、1個以上のダンプ識別子、さらに1個以上のメッシュID
keywords = output
output values = 'face'、'interpolate'、'original'
dump-identifier = 'stress'、'id'、'wear'、'vel'、'stresscomponents'、'owner'、'area'、'aedges'、'acorners'、'nneigs'
mesh-ids = 任意の fix mesh/surface のID
mesh/vtm args = 1つまたは2つのキーワード/値ペア
keywords = meshes（必須）または mesh_properties
meshes value(s) = メッシュIDのリスト、またはキーワード 'all'
mesh-ids = all というキーワード、または fix mesh/surface のIDリスト
mesh_properties value(s) = 1個以上のダンプ識別子
dump-identifier = 'stress'、'id'、'wear'、'vel'、'stresscomponents'、'owner'、'area'、'aedges'、'acorners'、'nneigs'
decomposition/vtk args = なし

local args = ローカル属性のリスト  
可能な属性:
index = ローカル値の列挙
c_ID = compute で計算されたローカルベクトル（ID）
c_ID[N] = compute で計算されたローカル配列のN番目の列（ID）
f_ID = fix で計算されたローカルベクトル（ID）
f_ID[N] = fix で計算されたローカル配列のN番目の列（ID）

custom args = 原子属性のリスト  
可能な属性:
id = 原子ID
mol = 分子ID
id_multisphere = マルチスフィアID
type = 原子タイプ
element = 元素
mass = 質量
x, y, z = 位置座標
xs, ys, zs = 正規化された位置座標
xu, yu, zu = ユーザー定義の位置座標
xsu, ysu, zsu = ユーザー定義のスケール位置座標
ix, iy, iz = 格子座標
vx, vy, vz = 速度
fx, fy, fz = 力
q = 電荷
mux, muy, muz = 磁気モーメントベクトルの成分
mu = 磁気モーメント
radius = 半径
diameter = 直径
omegax, omegay, omegaz = 角速度
angmomx, angmomy, angmomz = 角運動量
tqx, tqy, tqz = トルク成分
c_ID = compute で計算されたローカルベクトル（ID）
c_ID[N] = compute で計算されたローカル配列のN番目の列（ID）
f_ID = fix で計算されたローカルベクトル（ID）
f_ID[N] = fix で計算されたローカル配列のN番目の列（ID）

- id = 原子ID
- mol = 分子ID
- id_multisphere = マルチスフィア体のID
- type = 原子タイプ
- element = 元素名（dump_modifyコマンドで定義）
- mass = 原子質量
- x, y, z = 非スケーリング原子座標
- xs, ys, zs = スケーリングされた原子座標
- xu, yu, zu = 展開された原子座標
- xsu, ysu, zsu = 展開されたスケーリング座標
- ix, iy, iz = 原子が含まれるボックスの画像番号
- vx, vy, vz = 原子の速度
- fx, fy, fz = 原子に作用する力
- q = 原子の電荷
- mux, muy, muz = 原子の双極子モーメントの向き
- mu = 原子の双極子モーメントの大きさ
- radius, diameter = 球状粒子の半径、直径
- omegax, omegay, omegaz = 球状粒子の角速度
- angmomx, angmomy, angmomz = 非球形粒子の角運動量
- tqx, tqy, tqz = 有限サイズ粒子に作用するトルク
- c_ID = compute で計算された原子ごとのベクトル（ID）
- c_ID[N] = compute で計算された原子ごとの配列のN番目の列（ID）
- f_ID = fix で計算された原子ごとのベクトル（ID）
- f_ID[N] = fix で計算された原子ごとの配列のN番目の列（ID）
- v_name = 原子ごとのベクトル（atom-style 変数で計算される名前）


## 例
```
dump myDump all atom 100 dump.atom
dump 2 subgroup atom 50 dump.run.bin
dump 4a all custom 100 dump.myforce.* id type x y vx fx
dump 4b flow custom 100 dump.%.myforce id type c_myF[3] v_ke
dump dmpMyMesh mesh/vtk 100 mesh*.vtk vel area my_mesh_id
dump dmpAllMeshes mesh/vtk 100 mesh*.vtk stress wear
dump dmpMyMeshVTM mesh/vtm 100 mesh*.vtm meshes my_mesh_id mesh_properties vel area
dump dmpAllMeshesVTM mesh/vtm 100 mesh*.vtm meshes all mesh_properties stress wear
```

## 説明
原子の量のスナップショットを、指定されたNステップごとに1つ以上のファイルにダンプします。imageスタイルは例外で、原子配置のJPGまたはPPM画像ファイルをNステップごとに作成します。詳細は[dump image]()のドキュメントページで確認できます。ダンプ出力が書き込まれるタイムステップは、変数で制御することも可能です。詳細は[dump_modify every]()コマンドを参照してください。

指定されたグループ内の原子に関する情報のみがダンプされます。[dump_modify thresh]()および[region]()コマンドも、ダンプ対象となる原子を変更できます。すべてのスタイルがこれらのオプションをサポートしているわけではありません。詳細は以下で説明します。

以下に説明するように、ファイル名は出力の種類（テキスト形式、バイナリ形式、gz圧縮形式、1つの大きなファイルまたは各タイムステップごとのファイル、1つの大きなファイルまたは複数の小さなファイル）を決定します。

[!WARNING]周期的境界条件は、隣接リストが再構築されるタイムステップでのみ適用されるため、ダンプファイルに書き込まれた原子の座標は、シミュレーションボックスの外にわずかに出ることがあります。

[!WARNING][dump_modify sort]()オプションが呼び出されない限り、ダンプファイルに書き込まれる原子情報の行（通常は1行ごとに1原子）は、各スナップショットごとに順不同になります。これは、単一プロセッサで実行している場合でも、[atom_modify sort]()オプションがオンになっている場合（デフォルトでオン）に当てはまります。この場合、原子はシミュレーション中に定期的に空間的にソートされて再配置されます。また、並列実行時にも当てはまり、1つのスナップショットのデータは複数のプロセッサから収集され、各プロセッサが原子のサブセットを所有しています。

atom、custom、およびlocalスタイルでは、デフォルトでソートは無効になっています。xyzスタイルでは、デフォルトで原子IDによるソートが有効です。詳細については、[dump_modify]()のドキュメンテーションページを参照してください。

styleキーワードは、ファイルに書き込まれる原子の量とそのフォーマットを決定します。[dump_modify]()コマンドを使用して設定した内容は、個々の値やファイル自体のフォーマットを変更することもできます。

atom、local、およびcustomスタイルでは、ダンプファイルを開いた際に内容が簡単に理解できるシンプルなテキストフォーマットでファイルが作成されます。

後処理の目的で、atom、local、およびcustomのテキストファイルは、次のように自己記述的です。

シミュレーションボックスの寸法は、各スナップショットに含まれます。直交するシミュレーションボックスの場合、この情報は以下のようにフォーマットされます。
```
ITEM: BOX BOUNDS xx yy zz
xlo xhi
ylo yhi
zlo zhi
```

xlo, xhiはシミュレーションボックスのx軸方向の最大範囲を示し、同様にy軸およびz軸方向についても示します。xx yy zzは、シミュレーションボックスの6つの境界（xlo, xhi, ylo, yhi, zlo, zhi）それぞれの境界条件のスタイルをエンコードする6文字です。各文字は以下のいずれかを表します：

p = 周期的（periodic）
f = 固定（fixed）
s = シュリンクラップ（shrink wrap）
m = 最小値付きシュリンクラップ（shrink wrapped with a minimum value）
詳細は、boundaryコマンドを参照してください。

非直交シミュレーションボックス（トリクリニックボックス）の場合、直交する境界ボックスが出力され、トリクリニックボックスの3つのティルト因子（xy, xz, yz）が以下の形式で表示されます：
```
ITEM: BOX BOUNDS xy xz yz xx yy zz
xlo_bound xhi_bound xy
ylo_bound yhi_bound xz
zlo_bound zhi_bound yz
```

「xy xz yz」というテキストがITEM行に含まれている場合、3つのティルト因子が次の3行に含まれることを示しています。この境界ボックスは多くの可視化プログラムで便利です。xx yy zzの6文字のフラグの意味は上記と同じです。

注意点として、各行の最初の2つの数字はxloではなくxlo_boundとなっています。これはそれらが境界ボックスを表しているためです。トリクリニックボックスについての幾何学的な説明、LIGGGHTS(R)-PUBLICで定義される単純な式、6つの境界ボックスの範囲（xlo_bound, xhi_boundなど）がどのようにトリクリニックパラメータから計算されるか、およびそれらのパラメータを他の一般的に使用されるトリクリニック表現に変換する方法については、このドキュメントのセクションで説明されています。

各スナップショットの「ITEM: ATOMS」行には、続く各原子の行の列の記述が含まれています。例えば、デフォルトのatomスタイルの場合、「id type xs ys zs」という記述があり、customスタイルの場合には、dumpコマンドで指定した原子属性が記述されます。

atomスタイルの場合、原子座標は原子IDと原子タイプとともにファイルに書き込まれます。デフォルトでは、原子座標はスケーリングされた形式（0から1の範囲）で書き込まれます。つまり、x値が0.25である場合、原子はxloからxhiまでの距離の1/4の位置にあります。この形式は、[dump_modify]()設定によってアンスケール座標に変更できます。また、dump_modifyを使って、各原子に画像フラグを追加することもできます。

atom/vtkスタイルの場合、原子座標、速度、回転速度、力、原子ID、原子半径、原子タイプがVTKファイルに書き込まれます。この機能を使用するには、VTKライブラリにリンクする必要がある点に注意してください。

カスタムスタイルでは、各原子についてダンプファイルに書き込む原子属性のリストを指定できます。可能な属性は上記にリストされていますが、指定した順番で表示されます。特定のシミュレーションに対して定義されていない量（例えば、atomスタイルbondではqは指定できません）は指定できません。ダンプはタイムステップの最後に発生するため、原子属性にはそのタイムステップ中に適用されたfixの影響が含まれます。カスタムダンプ属性についての説明は以下に記載されています。

ローカルスタイルでは、[compute]()および[fixes]()から生成されたローカル出力を使用して、ダンプファイルに書き込まれる出力の行を生成します。このローカルデータは通常、各プロセッサが所有する原子に基づいて計算されますが、原子ごとにゼロ個以上のエンティティ（例えば、結合距離のリスト）が存在する場合もあります。ローカルダンプ属性の説明は以下に記載されています。なお、[compute property/local]()コマンドの入力を使用してローカルダンプを行うことで、データファイルに直接貼り付けて[read_data]()コマンドで読み込むことができる結合に関する情報を生成することも可能です。

xyzスタイルはXYZファイルを出力します。これは多くのコードが読み取ることができるシンプルなテキストベースの座標形式です。具体的には、最初に原子の数が記載され、その後に通常無視されるコメント行が続き、次に各原子ごとに1行ずつ、原子タイプとその原子のx、y、z座標が記載されます。[dump_modify element]()オプションを使用すると、出力を数値の原子タイプではなく、元素名（または他のラベル）に変更できます。これにより、多くの可視化プログラムが結合や色を推測するのに役立ちます。

mesh/stlスタイルは、fix meshコマンドで定義されたアクティブなSTLジオメトリを指定されたファイルにダンプします。メッシュIDのオプションリストを指定しない場合、すべてのメッシュがダンプされます。メッシュが[fix wall/gran]()コマンドで使用されているかどうかに関係なく、すべてのメッシュがダンプされます。メッシュIDのリストを指定することで、どのメッシュをダンプするかを明示的に選択できます。group-IDは無視されます。なぜなら、このコマンドは粒子ではなく、メッシュジオメトリに適用されるからです。`local`、`owned`、または`ghost`のキーワードを使用すると、並列メッシュのどの部分をダンプするかを決定できます（デフォルトは`local`）。もしマルチプロセッサオプションが使用されていない場合（ファイル名に`%`が含まれていない場合）、データはすべてのプロセッサから収集されるので、デフォルトを使用すると、すべてのプロセッサを跨いでメッシュデータ全体が出力されます。

例：
```
dump stl1 all mesh/stl 300 post/dump*.stl
dump stl2 all mesh/stl 300 post/dump_proc%_local*.stl local
dump stl3 all mesh/stl 300 post/dump_proc%_ghost*.stl ghost
dump stl4 all mesh/stl 300 post/dump_proc_all_ghost*.stl ghost
```

最初のコマンドは、各タイムステップごとに完全なメッシュを含むファイルを1つ書き込みます。2番目のコマンドは、各プロセッサごとにそのプロセッサが所有するローカルメッシュ要素を含むファイルを1つ書き込みます。3番目のコマンドは、各プロセッサごとにそのプロセッサのゴースト（コロナ）メッシュ要素を含むファイルを1つ書き込みます。3番目のコマンドは、すべてのプロセッサに対して、ゴースト（コロナ）メッシュ要素を1つのファイルに出力します。

regionキーワードを使用すると、指定した領域に含まれるメッシュ要素（要素の中心、すべてのノードの算術平均）のみがダンプされます。

このダンプは、特に[fix move/mesh]()が登録されている場合に便利です。もしメッシュの位置が時間とともに変更され、各ダンプタイムステップごとに1つのファイルをダンプして、粒子データと一緒に後処理したい場合は、mydumpfile*.stlのようなファイル名を使用するべきです。注意：このファイル群は、[Paraview](www.paraview.org)でVTK形式に変換された粒子ダンプファイルと一緒に後処理することができます。

[fix mesh/surface]()コマンドのID（またはIDのリスト）を指定することで、ダンプするメッシュを指定できます。メッシュが指定されていない場合、シミュレーションで使用されているすべてのメッシュがダンプされます。

`mesh/vtk`または新しい`mesh/vtm`スタイルを使用して、`fix mesh`コマンドで定義されたアクティブなメッシュジオメトリを一連のVTKファイルとしてダンプできます。`mesh/vtk`スタイルは`.vtk`、`.vtp`、`.pvtp`のファイル拡張子をサポートしています。最初の2つは1つのプロセッサのみでデータを出力し、後者は複数のファイルを並列で書き出します。`mesh/vtm`スタイルは現在`.vtm`ファイル拡張子のみをサポートし、シリアルで書き出します。

さまざまなキーワードを使用して、三角形方向の平均応力、ID、速度、摩耗、応力成分（fx / 要素面積、fy / 要素面積、fz / 要素面積）、面積（各要素の面積）、または要素を所有するプロセス（並列分解の視覚化）などをVTKファイルフォーマットで指定されたファイルにダンプできます。

`meshes`キーワード（`mesh/vtm`専用）とメッシュIDのリストはオプションです。メッシュIDのリストを指定しない場合、すべてのアクティブなメッシュがダンプされます。リストを指定することで、ダンプするメッシュを明示的に選択できます。`group-ID`は無視されます。

再度、ファイル群は[Paraview](www.paraview.org)で後処理することができます。`mesh/vtk`スタイルで使用されるキーワードはほとんどが自己説明的です。`output`キーワードはデータの書き方を制御します。`face`（デフォルト）を選択すると、すべての点変数は三角形の面に補間されます。`interpolated`では、すべてのセル値が対応する点に補間されます。`original`では補間は行われず、セルおよび点変数はそれぞれセルと点に書き込まれます。`aedges`および`acorners`キーワードは、各面に対してアクティブなエッジ/コーナーの数をダンプします。`nneighs`キーワードは、LIGGGHTS(R)-PUBLICが認識した各面の隣接面の数をダンプします。

`mesh/vtm`は`mesh/vtk`と似ていますが、引数が異なります。`mesh/vtm`は、`meshes`というキーワードの使用を要求し、その後にメッシュIDのリストまたは`all`キーワードが続く必要があります。`all`を指定すると、すべてのメッシュがダンプされます。その後、`mesh/vtm`はオプションのキーワード`mesh_properties`を指定でき、これにはダンプ識別子が続きます。この識別子のリストは`mesh/vtk`スタイルと同じです。

`meshes`キーワードを使用し、[fix mesh/surface]()コマンドのID（またはIDのリスト）を指定することで、ダンプするメッシュを選択できます。指定しない場合、シミュレーションで使用されているすべてのメッシュがダンプされます。

`decomposition/vtk`スタイルは、プロセッサグリッドの分解情報を一連のVTKファイルにダンプします。これには追加の引数は期待されません。

すべてのVTK出力において、`dump_modify binary`が使用されると、ダンプファイル（または`*`も使用された場合の複数のファイル）はバイナリ形式で書き込まれます。バイナリダンプファイルはテキスト版とほぼ同じサイズですが、通常ははるかに高速に書き出されます。さらに、`dump_modify compressor`を使用すると、圧縮されたバイナリデータの書き込みが指定できます。圧縮方法のオプションには次のようなものがあります：

```
none: No compression
zlib: Zlib compression
lz4: Lz4 compression (VTK >= 8.0 required)
```

ダンプは、Nの倍数のタイムステップ（タイムステップ0を含む）で実行され、最小化が収束した場合は最終タイムステップでも実行されます。これは、ダンプコマンドが呼び出された直後の最初のタイムステップにはダンプが実行されないことを意味します。もし現在のタイムステップがNの倍数でない場合です。この動作は、[dump_modify first]()コマンドを使用することで変更できます。このコマンドは、最小化が任意のタイムステップで終了した後にダンプコマンドが呼び出された場合にも有用です。Nは、[dump_modify every]()コマンドを使用して実行間に変更することができます。このコマンドはまた、ダンプファイルが書き込まれるタイムステップの順序を決定するために変数を使用することも許可します。このモードでは、実行の最初のタイムステップでダンプが書き込まれないこともありますが、[dump_modify first]()コマンドを使用すると、最初のタイムステップでもダンプが書き込まれるようになります。

指定されたファイル名は、ダンプファイルの書き込み方法を決定します。デフォルトでは、1つの大きなテキストファイルが書き込まれ、ダンプコマンドが呼び出されたときに開かれ、[undump]()コマンドが使用されるか、LIGGGHTS(R)-PUBLICが終了する際に閉じられます。

ダンプファイル名には2つのワイルドカード文字を含めることができます。ファイル名に「*」文字が含まれている場合、各スナップショットごとに1つのファイルが書き込まれ、「*」文字はタイムステップ値に置き換えられます。例えば、`tmp.dump.*`は`tmp.dump.0`、`tmp.dump.10000`、`tmp.dump.20000`などに変換されます。なお、[dump_modify pad]()コマンドを使用すると、すべてのタイムステップ番号の長さを同じに保つことができ（例：00010）、一連のダンプファイルを後処理ツールで順番に読みやすくすることができます。

ファイル名に「%」文字が含まれている場合、P個のプロセッサがそれぞれダンプファイルの一部を出力し、「%」文字はプロセッサID（0からP-1）に置き換えられます。例えば、`tmp.dump.%`は`tmp.dump.0`、`tmp.dump.1`、... `tmp.dump.P-1`などになります。これにより、ファイルが小さくなり、並列I/Oをサポートする並列マシンで出力の高速化が可能となります。このオプションは、

    xyz style.

デフォルトでは、Pはプロセッサの数に設定されており、プロセッサごとに1つのファイルが書き込まれますが、[dump_modify]()コマンドの`nfile`または`fileper`キーワードを使用してPの値を小さく設定することができます。これらのオプションは、大規模なプロセッサ数で実行する際にダンプファイルを効率的に書き出す方法となります。

「*」および「%」の文字を組み合わせて使用すると、大量の小さなダンプファイルが生成されることに注意してください。

もしファイル名が「.bin」で終わる場合、ダンプファイル（または「*」や「%」が使われた場合は複数のファイル）はバイナリ形式で書き出されます。バイナリダンプファイルはテキスト版と同じサイズになりますが、通常は書き出しがかなり速くなります。このオプションは、`atom`と`custom`スタイルでのみ利用可能です。

ファイル名が「.gz」で終わる場合、ダンプファイル（または「*」や「%」が使われた場合は複数のファイル）はgzipped形式で書き出されます。gzippedダンプファイルはテキスト版より約3倍小さくなりますが、書き出しにはより多くの時間がかかります。

このセクションでは、ローカルスタイルの一部として指定できるローカル属性について説明します。

index属性は、ダンプファイルに書き込まれる各行に対して、1からNまでのインデックス番号を生成します。ここでNは、すべてのプロセッサからのローカルデータの総数、またはスナップショットに表示される出力の行数です。
注意すべき点は、異なるプロセッサからのデータは、現在そのプロセッサが所有している原子に依存するため、原子がプロセッサ間で移動することで、同じ情報（例えば特定の結合）が次回のスナップショットで同じインデックス番号を持つ保証はないということです。

c_IDおよびc_ID[N]属性は、[compute]()コマンドによって計算されたローカルベクトルや配列を出力するために使用できます。
`c_ID`は、ローカル情報を計算するために定義された特定の`compute`のIDに置き換えられます。`c_ID[N]`は、計算結果が複数の列を持つ場合に使用します。
[compute]()コマンドは、結合のインデックスやタイプ、エネルギーなど、ローカル情報を計算するために使用できます。

グローバルまたは原子ごとの量を計算する`compute`は、`dump local`コマンドで出力できません。
代わりにグローバル量は、[thermo_style custom]()コマンドを使用して出力できます。原子ごとの量は、[dump custom]()コマンドを使用して出力できます。

この方法により、ダンプファイルに書き込まれるローカル情報を細かく制御できるため、シミュレーションデータの後処理や解析に役立ちます。

もしc_IDが属性として使用される場合、computeによって計算されたローカルベクトルが出力されます。もしc_ID[N]が使用される場合、Nは1からMの範囲内でなければならず、computeによって計算されたM長のローカル配列のN番目の列が出力されます。

f_IDおよびf_ID[N]属性は、[fix]()によって計算されたローカルベクトルや配列を出力するために使用されます。属性内のIDは、入力スクリプトで以前に定義された実際のfixのIDに置き換えられる必要があります。

もしf_IDが属性として使用される場合、fixによって計算されたローカルベクトルが出力されます。もしf_ID[N]が使用される場合、Nは1からMの範囲内でなければならず、fixによって計算されたM長のローカル配列のN番目の列が出力されます。

以下は、システムの結合情報（各結合の距離とエネルギーを含む）をダンプする例です：
```
compute 1 all property/local batom1 batom2 btype
compute 2 all bond/local dist eng
dump 1 all local 1000 tmp.dump index c_1[1] c_1[2] c_1[3] c_2[1] c_2[2]
```

このセクションでは、customおよびstyleの一部として指定できる原子属性について説明します。

id、mol、type、element、mass、vx、vy、vz、fx、fy、fz、qの各属性は、自明です。

id: 原子のID
mol: 分子ID（分子システムのデータファイルに含まれる）
id_multisphere: 粒子が所属するマルチスフィアボディのID（マルチスフィアがサポートされているバージョンの場合）
type: 原子タイプ
element: 通常は元素の化学名で、[dump_modify element]()コマンドを使用して各タイプに割り当てる必要があります。一般的には、原子タイプに関連付ける任意の文字列を指定できます。
mass: 原子の質量
vx, vy, vz: 原子の速度の各成分
fx, fy, fz: 原子にかかる力の各成分
q: 原子の電荷
これらの属性は、原子の基本的な情報や運動に関連するデータを出力するために使用されます。

原子座標を出力するためのいくつかのオプションがあります。

x, y, z: 原子座標を「非スケール」で出力します。適切な距離[units]()（オングストローム、シグマなど）で表示されます。
xs, ys, zs: 座標を「スケール」して出力します。各値は0.0から1.0の範囲になります。シミュレーションボックスがトリクリニック（傾いている）であっても、すべての原子座標は依然として0.0から1.0の範囲に収まります。
xu, yu, zu: 座標を「アンラップ」して出力します。アンラップとは、原子が周期境界を1回以上通過した場合、その座標が周期的なボックスに戻される前の位置を表示することを意味します。xu, yu, zuを使用すると、座標値はスナップショットで印刷されるボックスの範囲外にある場合があります。
xsu, ysu, zsu: これはxu, yu, zuと似ていますが、アンラップされた座標がボックスサイズでスケールされます。周期境界を通過した原子の座標は、1.0だけ増減します。
さらに、ix, iy, iz属性を使用すると、画像フラグを直接出力できます。周期的な次元に対して、これらは原子がシミュレーションボックスのどの画像に位置しているかを示します。画像が0の場合、原子は定義されたボックス内にいます。画像が2の場合、実際の値を得るためにボックスの長さを2倍追加します。画像が-1の場合、実際の値を得るためにボックスの長さを1倍引きます。LIGGGHTS(R)-PUBLICは、シミュレーション中に原子が周期境界を越えるたびにこれらのフラグを更新します。


mux, muy, muz 属性は、dipoleという原子スタイルで定義された双極子系に特有のもので、原子の点双極子モーメントの向きを示します。mu 属性は、原子の双極子モーメントの大きさを示します。

radius と diameter 属性は、有限のサイズを持つ球形粒子（例えば、sphereという原子スタイルで定義された粒子）に特有のものです。

omegax, omegay, omegaz 属性は、角速度を持つ有限サイズの球形粒子に特有のもので、sphereのような特定の原子スタイルでこの量が定義されています。

angmomx, angmomy, angmomz 属性は、角運動量を持つ有限サイズの非球形粒子に特有のもので、ellipsoid原子スタイルでこの量が定義されています。

tqx, tqy, tqz 属性は、他の粒子との相互作用により回転トルクを受ける有限サイズの粒子に関連しています。

c_ID と c_ID[N] 属性は、computeコマンドで計算された原子ごとのベクトルや配列を出力するためのもので、属性内のIDは入力スクリプトで定義された実際のcomputeIDに置き換える必要があります。[compute]()コマンドの詳細については、該当のドキュメントを参照してください。[compute]()コマンドは、原子ごとのエネルギー、応力、中心対称パラメータ、及び個々の原子の配位数などを計算するために使用されます。

グローバルまたはローカルの量を計算するcomputeは、dump customコマンドで出力することはできません。代わりに、グローバル量は[thermo_style custom]()コマンドで出力でき、ローカル量は[dump local]()aコマンドで出力できます。

c_IDが属性として使用される場合、計算によって得られた原子ごとのベクトルが出力されます。c_ID[N]が使用される場合、Nは1からMの範囲でなければならず、計算によって得られたM長の原子ごとの配列のN番目の列が出力されます。

f_IDおよびf_ID[N]属性は、[fix]()コマンドで計算された原子ごとのベクトルまたは配列を出力するために使用されます。属性内のIDは、入力スクリプトで事前に定義されたfixのIDに置き換える必要があります。[fix ave/atom]()コマンドは、原子ごとの量を計算するもので、このコマンドは、[compute]()、[fix]()、またはatom-style [variable]()によって生成された原子ごとの量を時間平均し、それらの時間平均結果をダンプファイルに書き込むことができます。

f_IDが属性として使用される場合、fixによって計算された原子ごとのベクトルが出力されます。f_ID[N]が使用される場合、Nは1からMの範囲でなければならず、fixによって計算されたM長の原子ごとの配列のN番目の列が出力されます。

v_name属性は、[variable]()によって計算された原子ごとのベクトルを出力するために使用されます。属性内の名前は、入力スクリプトで事前に定義された変数の実際の名前に置き換える必要があります。原子スタイルの変数のみが参照可能です。なぜなら、原子スタイルのみが原子ごとの値を生成するからです。atomスタイルの変数は、個々の原子属性、原子ごとの原子属性、熱力学的キーワード、または計算時に他のcompute、fix、またはvariableを呼び出すことができるため、ダンプファイルに出力するための量を作成する非常に一般的な方法です。

新しいcomputeおよびfixスタイルをLIGGGHTS(R)-PUBLICに追加して、ダンプファイルに出力できる原子ごとの量を計算する方法については、マニュアルの「Section_modify」を参照してください。

## 制限事項
gzippedダンプファイルを作成するには、LIGGGHTS(R)-PUBLICを-DLAMMPS_GZIPオプションでコンパイルする必要があります。詳細は、ドキュメントの「Making LAMMPS」セクションを参照してください。

atom/vtkを使用するには、VTKライブラリにリンクする必要があります。Makefileを適宜調整してください。

## 関連コマンド
[dump image](), [dump_modify](), [undump]()

## デフォルト
imageスタイルのデフォルト設定は、[dump image]()のドキュメントページに記載されています。