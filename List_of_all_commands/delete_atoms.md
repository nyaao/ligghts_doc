# delete_atoms command

## 構文
```
delete_atoms style args keyword value ...
```
スタイル = group、region、overlap、porosity のいずれか

group args = group-ID
region args = region-ID
overlap args = cutoff group1-ID group2-ID
cutoff = カットオフ距離内の原子ペアから1つの原子を削除（距離単位）
group1-ID = ペアの1つの原子はこのグループに属している必要がある
group2-ID = ペアのもう1つの原子はこのグループに属している必要がある
porosity args = region-ID fraction seed
region-ID = 削除を実行する領域
fraction = 削除する原子の割合
seed = ランダム数の種（10000より大きい素数）

0個以上のキーワード/値ペアを追加することができます。  
キーワード = compress または mol

compress 値 = no または yes  
mol 値 = no または yes

## 例
```
delete_atoms group edge
delete_atoms region sphere compress no
delete_atoms overlap 0.3 all all
delete_atoms overlap 0.5 solvent colloid
delete_atoms porosity cube 0.1 123457
```

## 説明
指定された原子を削除します。このコマンドは、材料のブロックから空隙を作成するためや、作成した原子が互いに近すぎる場合（例：結晶境界で）に原子を削除するために使用できます。

group スタイルの場合、グループに属するすべての原子が削除されます。

region スタイルの場合、指定された領域内のすべての原子が削除されます。さらに、領域内で1つ以上の原子が削除された分子内の原子も削除される場合があります。詳細については、下記の「mol」キーワードの説明を参照してください。

overlap スタイルの場合、指定されたカットオフ距離内で分離距離が該当する原子ペアを検索し、そのうちの1つの原子が削除されます。2つの原子のうち、1つが最初のグループに属し、もう1つが2番目のグループに属しているペアのみが対象となります。最初のグループに属する原子が削除されます。

2つのグループIDが同じ（例：group all）である場合や、いくつかの原子が両方のグループに属している場合でも問題ありません。このような場合、ペアのどちらかの原子が削除される可能性があります。また、両方のグループに属する原子がある場合、削除操作の終了時には、カットオフ内の原子ペアが残らないように十分な削除が行われることが保証されます（グループ制限に従う）。ただし、削除される原子の最小数が保証されるわけではなく、異なるプロセッサ数で実行した場合に同じ原子が削除される保証もありません。

porosity スタイルでは、指定された領域内で指定された割合の原子が削除されます。例えば、fraction が0.1の場合、原子の10%が削除されます。削除される原子はランダムに選ばれます。削除される原子の割合が正確であることや、異なるプロセッサ数で実行した場合に同じ原子が削除されることが保証されるわけではありません。

compress キーワードが yes に設定されている場合、原子が削除された後、原子IDが再割り当てされ、システム内の原子数に合わせて1から順に番号が付け直されます。ただし、分子系の場合（[atom_style]() コマンドを参照）、compress 設定に関係なく、この処理は行われません。なぜなら、すでに設定されている結合接続が壊れてしまうからです。

mol キーワードが yes に設定されている場合、削除される原子に対して、同じ分子内の他のすべての原子も削除されます。このキーワードは region スタイルでのみ使用されます。これは、結合や角度、二面角の相互作用内の原子の一部だけでなく、分子全体が削除されることを保証するための方法です。

## 制限事項
overlap スタイルは、ゴースト原子を取得し、隣接リストを構築するためにプロセッサ間通信を必要とします。つまり、このコマンドを使用する前にシステムがシミュレーションを実行できる準備が整っている必要があります（力場の設定、原子質量の設定など）。隣接リストが重なり合う原子ペアを見つけるために使用されるため、関連する原子タイプ間でペアの重なりカットオフ以上のforceカットオフを持つ[pair style]()を定義する必要があります。これは、ペアポテンシャルが評価されない場合でも適用されます。

もし special_bonds コマンドが設定0で使用されると、結合された原子ペア（1-2、1-3、または1-4）は隣接リストに現れないため、overlap スタイルによる削除対象とはなりません。結合されたペアの原子を削除することは避けたい場合が多いでしょう。

## 関連コマンド
[create_atoms]()

## デフォルト
オプションのデフォルト設定は、compress = yes および mol = no です。
