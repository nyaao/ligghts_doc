# delete_bonds command

## 構文
```
delete_bonds group-ID style args keyword ...
```
group-ID = グループID  
style = multi、atom、bond、または stats

multi args = なし  
atom args = 原子タイプ  
bond args = 結合タイプ  
stats args = なし  

0個以上のキーワード/値ペアを追加することができます。  
keyword = any、undo、remove、または special

## 例
```
delete_bonds frozen multi remove
delete_bonds all atom 4 special
delete_bonds all stats
```

## 説明

分子トポロジー相互作用、すなわち結合をオフ（またはオン）にするコマンドです。このコマンドは、結合切断ポテンシャルによって以前オフにされた相互作用を削除するのに便利です。また、凍結された原子や剛体の原子間のトポロジー相互作用をオフにするためにも便利です。ペアワイズ相互作用は、[neigh_modify exclude]() コマンドを使用してオフにすることができます。

すべてのスタイルにおいて、デフォルトでは、相互作用は関与するすべての原子が指定されたグループに含まれている場合のみオフ（またはオン）にされます。動作を変更するためには、any キーワードを参照してください。

atom スタイルは multi スタイルと同じですが、さらに、結合や相互作用に関与する原子の1つ以上が指定された原子タイプである必要があります。

bond スタイルの場合、オフにできるのは結合のみであり、その結合は指定されたタイプである必要があります。

bond スタイルの場合、タイプを0に設定することで、以前に結合切断ポテンシャルによって切断された結合を削除できます（結合が切断されると結合タイプが0に設定されます）。例えば、[bond_style quartic]() コマンドを参照してください。

stats スタイルの場合、相互作用はオフ（またはオン）にはされません。指定されたグループ内のすべての相互作用の状態が単に報告されます。これは、結合切断ポテンシャルによって結合が前回の実行でオフにされた場合の診断目的で便利です。

delete_bonds コマンドのデフォルト動作は、相互作用のタイプを負の値に切り替えて相互作用をオフにすることですが、相互作用を永久に削除するわけではありません。例えば、bond_type が 2 の場合、-2 に設定されます。このような相互作用は、隣接リスト作成ルーチンにおいて相互作用リストに含まれません。デフォルトでは、special_bonds コマンドによって計算され、ペアワイズの力とエネルギー計算に使用される 1-2、1-3、1-4 の隣接リストも変更されません。これにより、ペアワイズ計算は、結合がまだオンであるかのように進行します。

デフォルトの動作を変更するために、いくつかのキーワードを引数リストに追加できます。

any キーワードは、結合内のすべての原子が指定されたグループに含まれている必要があるという要件を変更します。代わりに、相互作用に関与する任意の原子が指定されたグループに含まれている場合、その相互作用はオフ（または、undo キーワードを使用すればオン）にされます。

undo キーワードは、delete_bonds コマンドの動作を反転させ、指定された結合が現在オフになっている場合、それらをオンにします。

remove キーワードは、delete_bonds 操作の終了時に呼び出されます。このキーワードは、オフにされた結合を各原子のデータ構造から削除し、グローバルな結合カウントを調整します。削除は永続的な変更であり、削除された結合は undo キーワードを使用して再びオンにすることはできません。削除はペアワイズの 1-2、1-3、1-4 の重み付けリストには影響を与えません。

special キーワードは、delete_bonds 操作の終了時、（オプションで）削除の後に呼び出されます。このキーワードは、ペアワイズの 1-2、1-3、1-4 の重み付けリストを再計算します。重み付けリストの計算は、オフになった結合もオンになった結合と同様に扱います。したがって、重み付けリストを変更したい場合は、オフにされた結合を削除する必要があります。

remove と special オプションの選択は、delete_bonds コマンドで変更された結合を跨いで 1-2、1-3、1-4 のペアワイズ相互作用がどのように計算されるかに影響します。

## 制限事項
このコマンドは、結合の削除を調整するためにプロセッサ間通信を必要とします。つまり、このコマンドを使用する前にシステムがシミュレーションを実行できる準備が整っている必要があります（力場の設定、原子質量の設定など）。

## 関連コマンド
[neigh_modify exclude](), special_bonds

## デフォルト
none